(()=>{chrome.contextMenus.onClicked.addListener((async function(t){if("decode"===t.menuItemId){const[o]=await chrome.tabs.query({active:!0,lastFocusedWindow:!0}),c=await async function(t){let o=[];for(decoder of e)try{const e=decoder(t);e&&(o=o.concat(e))}catch(e){}return console.log(o),o.sort(((e,t)=>Math.min(1e3,t.score)-Math.min(1e3,e.score)))}(t.selectionText);await chrome.tabs.sendMessage(o.id,{text:t.selectionText.toString(),decodings:c})}})),chrome.runtime.onInstalled.addListener((function(){chrome.contextMenus.create({title:"decode",contexts:["selection"],id:"decode"})}));const e=[];e.push((e=>{const t=!isNaN(e),o=Date.now(),c=o/1e3;if(t){const t=Number(e);return[{name:"ms timestamp",text:new Date(t).toString(),score:1e3-500*Math.abs(t-o)/3e11},{name:"sec timestamp",text:new Date(1e3*t).toString(),score:1e3-500*Math.abs(t-c)/3e8}]}})),e.push((e=>{const t=e.match(/[A-Za-z0-9+\/]+={0,2}/);if(t)return decoded=atob(t[0]),[{name:"base64",text:decoded,score:900}]})),e.push((e=>{const t=e.match(/[A-Za-z0-9+\/]+={0,2}/);if(t)return decoded=atob(t[0]),[{name:"base64",text:decoded,score:900}]})),e.push((e=>{const t=e.match(/[A-Za-z0-9+\/]+={0,2}/);if(t)return decoded=atob(t[0]),[{name:"base64",text:decoded,score:900}]})),e.push((e=>{const t=e.match(/[A-Za-z0-9+\/]+={0,2}/);if(t)return decoded=atob(t[0]),[{name:"base64",text:decoded,score:900}]})),e.push((e=>{const t=e.match(/[A-Za-z0-9+\/]+={0,2}/);if(t)return decoded=atob(t[0]),[{name:"base64",text:decoded,score:900}]})),e.push((e=>{const t=e.match(/[A-Za-z0-9+\/]+={0,2}/);if(t)return decoded=atob(t[0]),[{name:"base64",text:decoded,score:900}]})),e.push((e=>{const t=e.match(/[A-Za-z0-9+\/]+={0,2}/);if(t)return decoded=atob(t[0]),[{name:"base64",text:decoded,score:900}]})),e.push((e=>{const t=e.match(/[A-Za-z0-9+\/]+={0,2}/);if(t)return decoded=atob(t[0]),[{name:"base64",text:decoded,score:900}]})),e.push((e=>{const t=e.match(/[A-Za-z0-9+\/]+={0,2}/);if(t)return decoded=atob(t[0]),[{name:"base64",text:decoded,score:900}]})),e.push((e=>{const t=e.match(/[A-Za-z0-9+\/]+={0,2}/);if(t)return decoded=atob(t[0]),[{name:"base64",text:decoded,score:900}]}))})();